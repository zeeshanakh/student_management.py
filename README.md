# student_management.py
# -*- coding: utf-8 -*-
"""Untitled1.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1qxkgfcuELffiMBPxtO0KrCm-q-K2CJj5
"""

# Step 1: Import required libraries
import pandas as pd                    # For handling tabular data
from google.colab import files         # For uploading files to Colab

# Step 2: Upload any CSV file from local machine
uploaded = files.upload()              # Opens a file upload dialog

# Step 3: Extract the uploaded filename
filename = next(iter(uploaded))        # Get the first uploaded file name

# Step 4: Read the CSV file into a DataFrame
df = pd.read_csv(filename)             # Load CSV content into DataFrame

# Step 5: Display the uploaded student data
print(f"\nContents of file '{filename}':\n")
print(df)

# Check for missing values
print("\nMissing Values:")
print(df.isnull().sum())

# Fill or drop missing values
df = df.dropna()  # You can also use df.fillna(value)

# Convert data types (example: convert 'Age' to integer)
if 'Age' in df.columns:
    df['Age'] = df['Age'].astype(int)

# Remove duplicates
df = df.drop_duplicates()

# Remove outliers using IQR (example on numeric columns)
for column in df.select_dtypes(include=['int64', 'float64']).columns:
    Q1 = df[column].quantile(0.25)
    Q3 = df[column].quantile(0.75)
    IQR = Q3 - Q1
    df = df[(df[column] >= Q1 - 1.5 * IQR) & (df[column] <= Q3 + 1.5 * IQR)]

print("\nCleaned DataFrame:")
print(df.head())

# Descriptive statistics
print("\nDescriptive Statistics:")
print(df.describe())

# Check correlations
print("\nCorrelation Matrix:")
print(df.corr(numeric_only=True))

# 5. Data Visualization

# Import plotting libraries
import matplotlib.pyplot as plt
import seaborn as sns

# Bar plot of gender distribution
if 'Gender' in df.columns:
    plt.figure(figsize=(5, 3))
    sns.countplot(x='Gender', data=df)
    plt.title('Gender Distribution')
    plt.show()

# Compute correlation matrix (numerical columns only)
corr_matrix = df.select_dtypes(include=['int64', 'float64']).corr()

# Heatmap for correlation
plt.figure(figsize=(10, 6))
sns.heatmap(corr_matrix, annot=True, cmap='coolwarm')
plt.title('Correlation Heatmap')
plt.show()

# List of numerical columns
num_cols = df.select_dtypes(include=['int64', 'float64']).columns

# Boxplot of numerical columns
for col in num_cols:
    plt.figure(figsize=(6, 3))
    sns.boxplot(x=df[col])
    plt.title(f'Boxplot of {col}')
    plt.show()
